<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_event</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>100000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>tile_layer_hide(999995);
global.flag[15]= 0;
if(global.plot &gt; 197) {
    instance_destroy();
    exit;
} else  {
    if(global.plot == 193) {
        instance_create(0, 0, 1248/* obj_mettdestroyed_event */);
        instance_destroy();
        exit;
    } else  {
        murder= 0;
        if(scr_murderlv() &gt;= 12) murder= 1;
        global.flag[20]= 6;
        con= 0;
        mett= instance_create(146, 705, 1172/* obj_mettaton_actor */);
        mett.image_speed= 0;
        bl= 0;
        drawblack= 0;
        bly= 0;
        skip= 0;
        sixty= scr_marker(60, 680, 1964);
        sixty.depth= 999995;
        sixty.image_alpha= 0;
        sixtyflash= 0;
        sixtyon= 0;
        s_siner= 0;
        x_maroon= merge_color(0, 128, 0.35);
        exit;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>con++;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(obj_mainchara.y &lt; 840 &amp;&amp; global.interact == 0 &amp;&amp; con == 0) {
    global.interact= 1;
    global.facing= 2;
    obj_mainchara.image_speed= 0.334;
    obj_mainchara.vspeed= -3;
    con= 1;
    alarm[4]= 15;
}
if(con == 2) {
    obj_mainchara.vspeed= 0;
    view_object[0]= -4;
    obj_mainchara.cutscene= 1;
    con= 3;
}
if(con == 3) {
    view_yview[0]-= 3;
    if(view_yview[0] &lt;= 622) {
        view_yview[0]= 620;
        con= 4;
    }
}
if(con == 4) {
    ini_open("undertale.ini");
    already= ini_read_real("Mettaton", "BossMet", 0);
    ini_close();
    con= 5;
    alarm[4]= 15;
    if(murder == 1) already= 0;
    if(already &gt;= 1) {
        con= 3.1;
        alarm[4]= 15;
    }
}
if(con == 4.1) {
    global.typer= 5;
    global.facechoice= 0;
    global.msc= 833;
    instance_create(0, 0, 779/* obj_dialoguer */);
    con= 4.2;
}
if(con == 4.5 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    con= 4.4;
    alarm[4]= 20;
}
if(con == 5.4) {
    mett.sprite_index= 1657/* spr_mettaton_silent_behind */;
    global.flag[20]= 7;
    mett.image_speed= 0;
    mett.image_index= 0;
    global.typer= 27;
    global.msc= 0;
    global.msg[0]= "* REALLY^1?&amp;* WHERE?/%%";
    instance_create(0, 0, 779/* obj_dialoguer */);
    skip= 1;
    con= 5.5;
}
if(con == 5.5 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    caster_stop(-3);
    snd_play(108/* snd_item */);
    mett.image_index= 1;
    con= 4.6;
    alarm[4]= 80;
}
if(con == 5.6 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    global.msg[0]= "* CLEVER..^1.&amp;* VERY CLEVER./%%";
    instance_create(0, 0, 779/* obj_dialoguer */);
    con= 5.7;
    babytimer= 500;
}
if(con == 5.7 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) con= 19;
if(con == 6 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    global.typer= 27;
    global.msc= 0;
    global.facechoice= 0;
    global.msg[0]= "* OH YES.&amp;* THERE YOU ARE, DARLING./";
    global.msg[1]= "* IT\'S TIME TO HAVE OUR&amp;  LITTLE SHOWDOWN./";
    global.msg[2]= "* IT\'S TIME TO FINALLY STOP&amp;  THE " + chr(ord('"')) + "MALFUNCTIONING" + chr(ord('"')) + " ROBOT./";
    global.msg[3]= "* ... NOT!!!/";
    global.msg[4]= "* MALFUNCTION?&amp;* REPROGRAMMING?&amp;* PLEASE./";
    global.msg[5]= "* THIS WAS ALL JUST A BIG&amp;  SHOW./";
    global.msg[6]= "* AN ACT./";
    global.msg[7]= "* MY " + chr(ord('"')) + "MALFUNCTION" + chr(ord('"')) + " WAS ALL&amp;  MADE UP BY DR. ALPHYS./";
    global.msg[8]= "* AS SHE WATCHED YOU ON THE&amp;  SCREEN^1, SHE GREW ATTACHED&amp;  TO YOUR ADVENTURE./";
    global.msg[9]= "* SHE DESPERATELY WANTED TO&amp;  BE A PART OF IT./";
    global.msg[10]= "* SO SHE DECIDED TO INSERT&amp;  HERSELF INTO YOUR STORY./";
    global.msg[11]= "* THIS SCENARIO, WHERE SHE&amp;  " + chr(ord('"')) + "SAVES" + chr(ord('"')) + " YOU FROM ME, WAS&amp;  HER CREATION./";
    global.msg[12]= "* EVEN NOW, SHE IS WAITING&amp;  OUTSIDE THIS ROOM./";
    global.msg[13]= "* DURING OUR " + chr(ord('"')) + "BATTLE," + chr(ord('"')) + " SHE&amp;  WILL INTERRUPT./";
    global.msg[14]= "* THEN SHE WILL PRETEND TO&amp;  " + chr(ord('"')) + "DEACTIVATE" + chr(ord('"')) + " ME, " + chr(ord('"')) + "SAVING" + chr(ord('"')) + " YOU&amp;  ONE FINAL TIME./";
    global.msg[15]= "* FINALLY.&amp;* SHE\'LL BE THE HEROINE OF&amp;  YOUR ADVENTURE./";
    global.msg[16]= "* FINALLY.&amp;* SHE\'LL BE SOMEONE SOMEBODY&amp;  ACTUALLY LIKES./";
    global.msg[17]= "* YOU\'LL REGARD HER SO HIGHLY&amp;  SHE\'LL EVEN BE ABLE TO&amp;  CONVINCE YOU NOT TO LEAVE./";
    global.msg[18]= "* ... OR NOT./";
    global.msg[19]= "* YOU SEE, I\'VE HAD ENOUGH OF&amp;  THIS PREDICTABLE CHARADE./";
    global.msg[20]= "* I HAVE NO DESIRE TO HARM&amp;  HUMANS.&amp;* FAR FROM IT, ACTUALLY./";
    global.msg[21]= "* AS METTATON, MY ONLY DESIRE&amp;  IS TO ENTERTAIN./";
    global.msg[22]= "* AFTER ALL, THE AUDIENCE&amp;  DESERVES A GOOD SHOW,&amp;  DON\'T THEY?/";
    global.msg[23]= "* AND WHAT\'S A GOOD SHOW.../";
    global.msg[24]= "* WITHOUT A PLOT TWIST?/%%";
    global.msg[0]= "* OH YES.&amp;* THERE YOU ARE, DARLING./";
    global.msg[1]= "* IT\'S TIME TO HAVE OUR&amp;  LITTLE SHOWDOWN./";
    global.msg[2]= "* IT\'S TIME TO FINALLY STOP&amp;  THE " + chr(ord('"')) + "MALFUNCTIONING" + chr(ord('"')) + " ROBOT./";
    global.msg[3]= "* ... NOT!!!/";
    global.msg[4]= "* MALFUNCTION?&amp;* REPROGRAMMING?&amp;* GET REAL./";
    global.msg[5]= "* THIS WAS ALL JUST A BIG&amp;  SHOW./";
    global.msg[6]= "* AN ACT./";
    global.msg[7]= "* ALPHYS HAS BEEN PLAYING&amp;  YOU FOR A FOOL THE&amp;  WHOLE TIME./";
    global.msg[8]= "* AS SHE WATCHED YOU ON THE&amp;  SCREEN^1, SHE GREW ATTACHED&amp;  TO YOUR ADVENTURE./";
    global.msg[9]= "* SHE DESPERATELY WANTED TO&amp;  BE A PART OF IT./";
    global.msg[10]= "* SO SHE DECIDED TO INSERT&amp;  HERSELF INTO YOUR STORY./";
    global.msg[11]= "* SHE REACTIVATED PUZZLES^1.&amp;* SHE DISABLED ELEVATORS^1.&amp;* SHE ENLISTED ME TO TORMENT YOU./";
    global.msg[12]= "* ALL SO SHE COULD SAVE&amp;  YOU FROM DANGERS THAT&amp;  DIDN\'T EXIST./";
    global.msg[13]= "* ALL SO YOU WOULD THINK&amp;  SHE\'S THE GREAT PERSON.../";
    global.msg[14]= "* THAT SHE\'S NOT./";
    global.msg[15]= "* AND NOW^1, IT\'S TIME FOR&amp;  HER FINEST HOUR./";
    global.msg[16]= "* AT THIS VERY MOMENT,&amp;  ALPHYS IS WAITING OUTSIDE&amp;  THE ROOM./";
    global.msg[17]= "* DURING OUR " + chr(ord('"')) + "BATTLE," + chr(ord('"')) + " SHE&amp;  WILL INTERRUPT./";
    global.msg[18]= "* SHE WILL PRETEND TO&amp;  " + chr(ord('"')) + "DEACTIVATE" + chr(ord('"')) + " ME, " + chr(ord('"')) + "SAVING" + chr(ord('"')) + " YOU&amp;  ONE FINAL TIME./";
    global.msg[19]= "* FINALLY.&amp;* SHE\'LL BE THE HEROINE OF&amp;  YOUR ADVENTURE./";
    global.msg[20]= "* YOU\'LL REGARD HER SO HIGHLY&amp;  SHE\'LL EVEN BE ABLE TO&amp;  CONVINCE YOU NOT TO LEAVE./";
    global.msg[21]= "* ... OR NOT./";
    global.msg[22]= "* YOU SEE, I\'VE HAD ENOUGH OF&amp;  THIS PREDICTABLE CHARADE./";
    global.msg[23]= "* I HAVE NO DESIRE TO HARM&amp;  HUMANS.&amp;* FAR FROM IT, ACTUALLY./";
    global.msg[24]= "* MY ONLY DESIRE IS TO&amp;  ENTERTAIN./";
    global.msg[25]= "* AFTER ALL, THE AUDIENCE&amp;  DESERVES A GOOD SHOW,&amp;  DON\'T THEY?/";
    global.msg[26]= "* AND WHAT\'S A GOOD SHOW.../";
    global.msg[27]= "* WITHOUT A PLOT TWIST?/%%";
    if(murder == 1) {
        global.msg[0]= "* MY^1, MY^1.&amp;* SO YOU\'VE FINALLY ARRIVED./";
        global.msg[1]= "* AFTER OUR FIRST MEETING^1, I&amp;  REALIZED..^1.&amp;* SOMETHING GHASTLY./";
        global.msg[2]= "* YOU\'RE NOT JUST A THREAT&amp;  TO MONSTERS..^1.&amp;* BUT HUMANITY^1, AS WELL./";
        global.msg[3]= "* OH MY^1.&amp;* THAT\'S AN ISSUE./";
        global.msg[4]= "* YOU SEE^1, I CAN\'T BE A&amp;  STAR WITHOUT AN AUDIENCE./";
        global.msg[5]= "* AND BESIDES.../";
        global.msg[6]= "* THERE ARE SOME PEOPLE..^1.&amp;* I WANT TO PROTECT./%%";
    }
    instance_create(0, 0, 779/* obj_dialoguer */);
    con= 7;
    if(murder == 1) con= 30;
}
if(con == 7 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    caster_free(-3);
    mtsong2= caster_load("music/mettafly.ogg");
    drawblack= 1;
    snd_play(21/* snd_impact */);
    con= 8;
    alarm[4]= 40;
}
if(con == 9) {
    snd_play(17/* snd_knock */);
    con= 10;
    alarm[4]= 20;
}
if(con == 11) {
    global.typer= 47;
    global.msc= 0;
    global.facechoice= 6;
    global.faceemotion= 3;
    global.msg[0]= "* H-hey!!^1!&amp;* Wh-wh-what\'s going on!?/";
    global.msg[1]= "* Th-th-the door just&amp;  locked itself!/%%";
    instance_create(0, 0, 779/* obj_dialoguer */);
    con= 13;
}
if(con == 13 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    snd_play(13/* snd_spearappear */);
    sixtyon= 1;
    sixtyflash= 1;
    global.typer= 27;
    global.msc= 0;
    global.facechoice= 0;
    global.faceemotion= 3;
    mett.image_speed= 0.25;
    global.msg[0]= "\\M1* SORRY^1, FOLKS^1!&amp;* THE OLD PROGRAM\'S BEEN&amp;  CANCELLED!!!/";
    global.msg[1]= "* BUT WE\'VE GOT A FINALE&amp;  THAT WILL DRIVE YOU WILD!!/%%";
    instance_create(0, 0, 779/* obj_dialoguer */);
    con= 14;
}
if(con == 14 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    babytimer= 0;
    scr= instance_create(0, 0, 1251/* obj_scrollaway_event */);
    scr.sixty= sixty;
    con= 15;
    alarm[4]= 90;
}
if(con == 16 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    caster_play(mtsong2, 0.7, 1);
    global.msc= 0;
    global.typer= 27;
    global.msg[0]= "\\M5* REAL DRAMA!!&amp;* REAL ACTION!!&amp;* REAL BLOODSHED!!/";
    global.msg[1]= "* ON OUR NEW SHOW.../";
    global.msg[2]= "* " + chr(ord('"')) + "ATTACK OF THE KILLER&amp;  ROBOT!" + chr(ord('"')) + "/%%";
    ss= instance_create(0, 0, 779/* obj_dialoguer */);
    ss.side= 0;
    con= 17;
}
if(con &gt; 14 &amp;&amp; murder == 0) babytimer++;
if(con == 17 &amp;&amp; !instance_exists(782/* OBJ_WRITER */) &amp;&amp; babytimer &gt; 300) {
    snd_play(30/* snd_break2 */);
    con= 18;
    alarm[4]= 30;
}
if(con == 19) {
    global.mercy= 1;
    global.battlegroup= 80;
    if(skip == 1) global.battlegroup= 81;
    global.flag[15]= 0;
    instance_create(0, 0, 142/* obj_battler */);
    con= 20;
    alarm[4]= 33;
}
if(con == 21) {
    global.mercy= 0;
    global.border= 0;
    SCR_BORDERSETUP();
    // obj_scrollaway_event
    with(1251) con= 6;
    with(mett) instance_destroy();
    view_yview[0]-= 60;
    instance_create(0, 0, 1248/* obj_mettdestroyed_event */);
    instance_destroy();
}
if(con == 30 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    obj_mainchara.visible= 0;
    mc= scr_marker(obj_mainchara.x, obj_mainchara.y, 1044);
    with(mc) image_index= 1;
    with(mc) vspeed= -0.5;
    con= 31;
    alarm[4]= 10;
}
if(con == 32) {
    with(mc) image_index= 0;
    with(mc) vspeed= 0;
    con= 33;
    alarm[4]= 30;
}
if(con == 34) {
    global.msg[0]= "* AH HA HA^1.&amp;* EAGER, AS ALWAYS, EH?/";
    global.msg[1]= "* BUT DON\'T TOUCH THAT DIAL.&amp;* THERE\'S SOMETHING YOU&amp;  HAVEN\'T ACCOUNTED FOR./";
    global.msg[2]= "* AS ANY TRUE FAN WOULD KNOW,&amp;  I WAS FIRST CREATED AS&amp;  A HUMAN ERADICATION ROBOT./";
    global.msg[3]= "* IT WAS ONLY AFTER BECOMING A&amp;  STAR THAT I WAS GIVEN A&amp;  MORE... PHOTOGENIC BODY./";
    global.msg[4]= "* HOWEVER./";
    global.msg[5]= "* THOSE ORIGINAL FUNCTIONS&amp;  HAVE NEVER BEEN FULLY&amp;  REMOVED.../";
    global.msg[6]= "* COME ANY CLOSER, AND&amp;  I\'LL BE FORCED TO SHOW&amp;  YOU.../";
    global.msg[7]= "\\M5* MY TRUE FORM!/%%";
    con= 35;
    instance_create(0, 0, 779/* obj_dialoguer */);
}
if(con == 35 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    with(mc) image_index= 1;
    with(mc) vspeed= -0.5;
    con= 36;
    alarm[4]= 10;
}
if(con == 37) {
    with(mc) image_index= 0;
    with(mc) vspeed= 0;
    con= 38;
    alarm[4]= 30;
}
if(con == 39) {
    global.msg[0]= "\\M0* FINE THEN!/";
    global.msg[1]= "\\M5* RRRRREADY^1?&amp;* IIIIIIIT\'S SHOWTIME!!!/%%";
    con= 40;
    instance_create(0, 0, 779/* obj_dialoguer */);
}
if(con == 40 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    caster_free(-3);
    shkwv= caster_load("music/f_destroyed2.ogg");
    pt= 0;
    vl= 0.5;
    caster_loop(shkwv, vl, pt);
    con= 49;
    alarm[4]= 110;
    brt= scr_marker(-10, -10, 999);
    brt.image_xscale= 800;
    brt.image_yscale= 800;
    brt.image_alpha= 0;
    br= 0;
}
if(con == 49) {
    br+= 0.02;
    brt.image_alpha= br;
    pt+= 0.02;
    vl+= 0.01;
    vol= vl;
    if(vl &gt; 1) vol= 2 - vl;
    caster_set_pitch(shkwv, pt);
    caster_set_volume(shkwv, vol);
}
if(con == 50 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    with(brt) instance_destroy();
    caster_free(shkwv);
    global.mercy= 1;
    global.battlegroup= 94;
    global.flag[15]= 0;
    instance_create(0, 0, 142/* obj_battler */);
    con= 51;
    alarm[4]= 33;
}
if(con == 52) {
    with(mett) visible= 0;
    obj_mainchara.cutscene= 0;
    view_object[0]= 1570;
    obj_mainchara.visible= 1;
    with(sixty) instance_destroy();
    with(mc) instance_destroy();
    // obj_npc_marker
    with(1363) instance_destroy();
    global.interact= 0;
    con= 43;
    global.plot= 199;
    caster_free(-3);
    instance_destroy();
    exit;
} else  {
    if(instance_exists(sixty)) {
        if(sixtyon == 1 &amp;&amp; sixty.image_alpha &lt; 1)
            sixty.image_alpha+= 0.05;
        if(sixtyflash == 1) {
            s_siner++;
            sixty.image_blend= merge_color(16777215, 8421504, abs(sin(s_siner / 6) / 2));
        }
    }
    exit;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(drawblack == 1) {
    if(bl &lt; 20) bl+= 4;
    if(bl &gt; 20) {
        bl= 20;
        snd_play(106/* snd_noise */);
    }
    draw_set_color(x_maroon);
    draw_rectangle(140 + bl, 840 + bly, 140, 880, 0);
    draw_rectangle(180 - bl, 840 + bly, 180, 880, 0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
