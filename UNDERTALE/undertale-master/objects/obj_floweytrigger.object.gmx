<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_event</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_xscale= 50;
conversation= 0;
if(global.plot &gt; 0) instance_destroy();
faketor= 0;
alter= 0;
ini_open("undertale.ini");
a= ini_read_real("Flowey", "Alter", 0);
b= ini_read_real("Flowey", "K", 0);
c= ini_read_real("Flowey", "SPECIALK", 0);
ini_close();
if(a &gt; 0 || b &gt; 0 || c &gt; 0) alter= 1;
if(alter == 1) {
    // obj_floweytalker1
    with(875) visible= 0;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>conversation++;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.interact= 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(146, 260, 860/* obj_toroverworld1 */);
global.msc= 201;
global.typer= 4;
global.interact= 1;
global.facechoice= 1;
conversation= 3;
if(faketor == 1) {
    global.msc= 0;
    global.msg[0]= "\\E1* Hello..^1.&amp;* Are you all right?/";
    global.msg[1]= "* You must be so lost&amp;  and confused.../";
    global.msg[2]= "\\E2* Ah, do not be&amp;  afraid^1, my child./";
    global.msg[3]= "\\W* I am \\BTORIEL\\W,&amp;  caretaker of the&amp;  \\RRUINS\\W./";
    global.msg[4]= "* I pass through here&amp;  every day to see if&amp;  anyone has fallen down./";
    global.msg[5]= "* You are the first&amp;  human to come here&amp;  in a long time./";
    global.msg[6]= "* I will do my best&amp;  to protect you during&amp;  your time here./";
    global.msg[7]= "* Come^1!&amp;* I shall guide you&amp;  through the catacombs./%%";
    with(temptor) instance_destroy();
}
instance_create(0, 0, 779/* obj_dialoguer */);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_persistent= 1;
global.plot= 1;
alarm[2]= 42;
instance_create(0, 0, 143/* obj_battlerflowey */);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(conversation == 1 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    global.interact= 3;
    alarm[0]= 1;
    conversation= 2;
    instance_create(0, 0, 147/* obj_fader */);
}
if(conversation == 3 &amp;&amp; instance_exists(763/* obj_torface */))
    conversation= 3.5;
if(conversation == 3.5 &amp;&amp; !instance_exists(763/* obj_torface */)) {
    room_persistent= 0;
    global.specialbattle= 0;
    obj_toroverworld1.direction= 90;
    obj_toroverworld1.speed= 2;
    alarm[3]= 15;
    conversation= 4;
}
if(conversation == 20 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    mus= instance_create(0, 0, 92/* obj_musfadeout */);
    global.interact= 1;
    visible= 0;
    flow= 875;
    with(flow) visible= 0;
    flow_m= scr_marker(flow.x, flow.y, 1100);
    with(flow_m) scr_depth();
    flow_m.image_speed= 0.25;
    conversation= 21;
}
if(conversation == 21 &amp;&amp; !instance_exists(782/* OBJ_WRITER */) &amp;&amp; flow_m.image_index &gt;= 5) {
    flow_m.visible= 0;
    conversation= 21.2;
    alarm[4]= 50;
}
if(conversation == 22.2 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    global.plot= 1;
    with(flow_m) instance_destroy();
    with(mus) instance_destroy();
    caster_free(global.currentsong);
    conversation= 23;
}
if(conversation == 23) {
    temptor= scr_marker(146, view_yview[0] - 60, 1103);
    temptor.image_speed= 0.25;
    temptor.vspeed= 2;
    global.currentsong= caster_load("music/toriel.ogg");
    caster_loop(global.currentsong, 0.7, 0.86);
    conversation= 24;
}
if(conversation == 24) {
    with(temptor) scr_depth();
    if(temptor.y &gt;= 258) {
        faketor= 1;
        temptor.image_index= 0;
        temptor.speed= 0;
        temptor.image_speed= 0;
        conversation= 25;
        alarm[2]= 30;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_mainchara">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(global.plot == 0) {
    other.x= other.xprevious;
    other.y= other.yprevious;
    global.interact= 1;
    if(alter == 0) {
        ini_open("undertale.ini");
        g= ini_read_real("Flowey", "Met1", 0);
        truename= ini_read_real("Flowey", "truename", 0);
        IK= ini_read_real("Flowey", "IK", 0);
        NK= ini_read_real("Flowey", "NK", 0);
        global.currentsong= caster_load("music/flowey.ogg");
        caster_loop(global.currentsong, 1, 1);
        global.typer= 9;
        global.facechoice= 2;
        global.faceemotion= 0;
        global.msc= 200;
        spec= 0;
        if(g == 1) {
            global.msc= 0;
            global.msg[0]= "\\W* Howdy^2!&amp;* I\'m\\Y FLOWEY\\W.^2 &amp;* \\YFLOWEY\\W the \\YFLOWER\\W!/";
            global.msg[1]= "* Hee hee hee.../";
            global.msg[2]= "* Why\'d you make me&amp;  introduce myself?/";
            global.msg[3]= "* It\'s rude to act&amp;  like you don\'t&amp;  know who I am./";
            global.msg[4]= "* Someone ought to teach&amp;  you proper manners./";
            global.msg[5]= "* I guess little old me&amp;  will have to do./";
            global.msg[6]= "* Ready^2?&amp;* Here we go!/%%";
        }
        if(g &gt; 1) {
            global.msc= 0;
            global.msg[0]= "* Don\'t you have anything&amp;  better to do?/%%";
        }
        conversation= 1;
        if(NK &gt; 0 || IK &gt; 0 || truename &gt; 0) spec= 1;
        if(spec == 1) {
            global.msc= 0;
            ini_write_real("Flowey", "Alter", 1);
            global.msg[0]= "* Error/%%";
            if(truename == 1) {
                global.msg[0]= "* Really^1, " + global.charname + "?/";
                global.msg[1]= "\\E5* Well^1, do what you&amp;  will./";
                global.msg[2]= "\\E4* I\'ll be waiting for&amp;  you!/%%";
            }
            if(IK &gt; 0) {
                global.msg[0]= "\\E0* Hey^1.&amp;* Remember./";
                global.msg[1]= "\\E2* DON\'T kill anyone./";
                global.msg[2]= "\\E2* .../";
                global.msg[3]= "\\E1* I can\'t believe this&amp;  is a REAL thing I&amp;  have to remind you./";
                global.msg[4]= "\\E0* Hee hee hee.../";
                global.msg[5]= "* Good luck!/%%";
            }
            if(NK &gt; 0) {
                global.msg[0]= "* Remember.../";
                global.msg[1]= "\\E1* THIS time^1, you\'ve&amp;  GOT to become friends&amp;  with everyone./";
                global.msg[2]= "\\E2* OK?/";
                global.msg[3]= "\\E5* If you DON\'T^1, you\'ll&amp;  be miserable FOREVER./";
                global.msg[4]= "\\E1* And we wouldn\'t want&amp;  THAT^1, would we?/";
                global.msg[5]= "\\E0* No..^1.&amp;* We just want you&amp;  to be happy^1, right?/";
                global.msg[6]= "* Good luck. /%%";
            }
            conversation= 19;
            alarm[4]= 5;
        }
        ini_write_real("Flowey", "Met1", g + 1);
        ini_close();
        if(!instance_exists(779/* obj_dialoguer */)) instance_create(0, 0, 779/* obj_dialoguer */);
    } else  {
        global.plot= 1;
        conversation= 23;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
