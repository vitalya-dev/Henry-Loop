<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_event</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_yscale= 1;
image_xscale= 100;
conversation= 0;
flames= 0;
if(global.plot &gt; 24) instance_destroy();
dingus= 0;
turts= 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(turts == 0) obj_toroverworld3.direction= 0;
if(turts == 1) obj_toroverworld3.direction= 90;
if(turts == 9) obj_toroverworld3.direction= 0;
if(turts == 10) {
    // obj_toroverworld3
    with(861) path_start(40/* path_walkdown */, 4, 0, 0/* path_action_stop */);
}
if(turts == 13) conversation= 8;
alarm[5]= 12;
turts++;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.msg[0]= "\\E0* Goodbye^1, my child./%%";
mydialoguer= instance_create(0, 0, 779/* obj_dialoguer */);
conversation= 7.5;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>obj_toroverworld3.image_index= 0;
obj_toroverworld3.image_speed= 0.2;
obj_toroverworld3.sprite_index= 1124/* spr_toriel_hug3 */;
obj_toroverworld3.dsprite= 1124;
alarm[4]= 60;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.border= 0;
// obj_pbflame
with(876) instance_destroy();
if(global.flag[45] == 3) {
    caster_stop(global.currentsong);
    caster_loop(global.currentsong, 0.5, 0.3);
    obj_mainchara.y+= 8;
    global.interact= 2;
    global.typer= 4;
    global.msc= 0;
    global.facechoice= 1;
    global.msg[0]= "\\E2* That is right./";
    global.msg[1]= "* Go upstairs./%%";
    mydialoguer= instance_create(0, 0, 779/* obj_dialoguer */);
    conversation= 9;
    global.mercy= 0;
    global.seriousbattle= 0;
    global.border= 0;
}
if(global.flag[45] == 4) {
    global.mercy= 0;
    global.seriousbattle= 0;
    global.border= 0;
    // obj_toroverworld3
    with(861) instance_destroy();
    global.plot= 25;
    instance_destroy();
}
if(global.flag[45] == 5) {
    global.mercy= 0;
    global.seriousbattle= 0;
    global.border= 0;
    obj_mainchara.x= obj_toroverworld3.x + 6;
    obj_mainchara.y= obj_toroverworld3.y + 36;
    obj_toroverworld3.direction= 270;
    caster_stop(global.currentsong);
    global.currentsong= caster_load("music/toriel.ogg");
    caster_loop(global.currentsong, 0.8, 0.75);
    global.msc= 0;
    global.typer= 4;
    global.facechoice= 1;
    global.msg[0]= "\\E2* If you truly wish to&amp;  leave the RUINS.../";
    global.msg[1]= "* I will not stop you./";
    global.msg[2]= "\\E2* However^1, when you&amp;  leave.../";
    global.msg[3]= "\\E1* Please do not come&amp;  back./";
    global.msg[4]= "\\E2* I hope you understand./%%";
    mydialoguer= instance_create(0, 0, 779/* obj_dialoguer */);
    conversation= 6;
    global.interact= 2;
}
global.mercy= 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(flames == 0)
    instance_create(obj_toroverworld3.x, obj_toroverworld3.y, 876/* obj_pbflame */);
if(flames &gt; 3) {
    caster_free(-3);
    room_persistent= 1;
    alarm[2]= 34;
    global.battlegroup= 22;
    instance_create(0, 0, 142/* obj_battler */);
} else  {
    caster_stop(global.currentsong);
    flames++;
    snd_play(106/* snd_noise */);
    obj_pbflame.image_alpha+= 0.25;
    alarm[1]= 10;
    if(flames == 4) alarm[1]= 30;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>dingus++;
if(global.plot == 24 &amp;&amp; dingus == 2) {
    instance_create(140, 50, 861/* obj_toroverworld3 */);
    obj_toroverworld3.facing= 2;
    obj_toroverworld3.direction= 90;
}
if(conversation == 2 &amp;&amp; !instance_exists(779/* obj_dialoguer */)) {
    alarm[1]= 20;
    global.flag[45]= 3;
    conversation= 3;
}
if(conversation == 9 &amp;&amp; !instance_exists(779/* obj_dialoguer */))
    global.interact= 0;
if(conversation == 6 &amp;&amp; !instance_exists(779/* obj_dialoguer */)) {
    obj_toroverworld3.y+= 10;
    obj_toroverworld3.image_index= 0;
    obj_toroverworld3.dsprite= 1122;
    obj_toroverworld3.sprite_index= 1122/* spr_toriel_hug */;
    obj_mainchara.visible= 0;
    obj_toroverworld3.image_speed= 0.2;
    alarm[3]= 120;
    conversation= 7;
}
if(instance_exists(861/* obj_toroverworld3 */) &amp;&amp; conversation == 7.6 &amp;&amp; obj_toroverworld3.path_position == 1) {
    alarm[5]= 30;
    conversation= 7.7;
}
if(conversation == 7.5 &amp;&amp; !instance_exists(779/* obj_dialoguer */)) {
    // obj_toroverworld3
    with(861) path_start(28/* path_torielwalkbasement3 */, 3, 0, 0/* path_action_stop */);
    conversation= 7.6;
}
if(conversation == 8 &amp;&amp; !instance_exists(779/* obj_dialoguer */)) {
    global.seriousbattle= 0;
    global.interact= 0;
    // obj_toroverworld3
    with(861) instance_destroy();
    global.plot= 25;
    instance_destroy();
}
if(instance_exists(861/* obj_toroverworld3 */) &amp;&amp; conversation == 1) {
    global.interact= 1;
    myinteract= 3;
    global.typer= 4;
    global.facechoice= 1;
    global.faceemotion= 7;
    global.msc= 0;
    global.msg[0]= "* You want to leave&amp;  so badly?/";
    global.msg[1]= "\\E6* Hmph./";
    global.msg[2]= "* You are just like&amp;  the others./";
    global.msg[3]= "\\E7* There is only one&amp;  solution to this./";
    global.msg[4]= "* Prove your../";
    global.msg[5]= "* Prove to me you&amp;  are strong enough&amp;  to survive./%%";
    ini_open("undertale.ini");
    TK= ini_read_real("Toriel", "TK", 0);
    ini_close();
    if(TK &gt; 0) {
        global.msg[5]= "* Prove to me you&amp;  are strong enough&amp;  to survive!/";
        global.msg[6]= "\\E6* ... wait./";
        global.msg[7]= "* ... why are you looking&amp;  at me like that?/";
        global.msg[8]= "* Like you have seen&amp;  a ghost./";
        global.msg[9]= "\\E7* Do you know something&amp;  that I do not?/";
        global.msg[10]= "* No...&amp;* That is impossible./%%";
    }
    if(global.flag[202] &gt; 11 &amp;&amp; global.flag[203] &gt; 11) {
        global.msg[5]= "* Prove to me that you&amp;  are.../";
        global.msg[6]= "\\E1* Hey^1, let me finish%%";
    }
    if(global.flag[45] == 3) {
        global.msg[0]= "* Already?/";
        global.msg[1]= "* What will it take&amp;  for you to learn&amp;  your lesson?/%%";
    }
    mydialoguer= instance_create(0, 0, 779/* obj_dialoguer */);
    conversation= 2;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_mainchara">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(global.flag[45] &lt; 4) {
    other.x= other.xprevious;
    other.y= other.yprevious;
    global.interact= 1;
    conversation= 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
