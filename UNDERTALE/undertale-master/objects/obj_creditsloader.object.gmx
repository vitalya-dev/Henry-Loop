<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>credno= 0;
credamt= 0;
credfile= file_text_open_read(working_directory + "credits.txt");
thiscred= " ";
while(thiscred != "%%%") {
    creditname[credamt]= file_text_read_string(credfile);
    thiscred= creditname[credamt];
    file_text_readln(credfile);
    credamt++;
}
file_text_close(credfile);
cy= 10;
rounded= 0;
memory= 0;
st_t= 0;
st_y= 500;
st_f= 0;
memswitch= 0;
mytimer= 0;
hitno= 0;
hitname[0]= "";
songed= 0;
active= 0;
drawbar= 0;
global.inbattle= 1;
ting= 0;
ini_open("undertale.ini");
curf= ini_read_real("EndF", "EndF", 0);
ini_close();
if(curf == 0) {
    horror= caster_load("music/yourbestfriend_3.ogg");
    caster_loop(horror, 0.7, 1);
    asriel= instance_create(272, 16, 569/* obj_asriel_body */);
    a_con= 1;
    alarm[4]= 30;
} else  {
    a_con= 7;
    a2= id;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(memory == 0) {
    if(rounded == 0) {
        cb= instance_create(100, choose(40), 1700/* obj_creditboss */);
        cb.type= choose(1);
    }
    if(rounded == 1) {
        cb= instance_create(100, choose(260), 1700/* obj_creditboss */);
        cb.type= choose(1);
    }
    if(rounded == 2) {
        cb= instance_create(100, choose(40), 1700/* obj_creditboss */);
        cb.type= choose(0);
    }
    if(rounded == 3) {
        cb= instance_create(100, choose(260), 1700/* obj_creditboss */);
        cb.type= choose(0);
    }
    alarm[5]= 35;
    rounded++;
    if(rounded == 4) rounded= 0;
}
if(memory == 1) {
    i= 0;
    xx= 10 + floor(random(6)) * 20;
    repeat(4)  {
        event_user(0);
        cb.x= xx;
        xx+= 90;
        cb.y= -40;
        cb.vspeed= 0.5;
        cb.gravity= 0.1;
        i++;
    }
    alarm[5]= 15;
}
if(memory == 2) {
    i= 0;
    while(i &lt; 12) {
        event_user(0);
        cb.x= -200;
        cb.y= 10 + i * 40;
        cb.hspeed= 9;
        i++;
    }
    i= 0;
    while(i &lt; 12) {
        event_user(0);
        cb.x= room_width + 200;
        cb.y= 30 + i * 40;
        cb.hspeed= -9;
        i++;
    }
    alarm[5]= 50;
}
if(memory == 4) {
    if(memswitch == 0) {
        i= 0;
        while(i &lt; 12) {
            event_user(0);
            cb.x= 10 + i * 60;
            with(cb) width= string_width(text);
            cb.y= -300 + cb.width;
            cb.image_angle= 90;
            cb.hspeed= 2;
            cb.action= 3;
            cb.vspeed= 6;
            i++;
        }
        i= 0;
        while(i &lt; 12) {
            event_user(0);
            with(cb) width= string_width(text);
            cb.image_angle= 90;
            cb.x= 40 + i * 60;
            cb.y= -300 - cb.width;
            cb.hspeed= -2;
            cb.action= 3;
            cb.vspeed= 6;
            i++;
        }
    }
    if(memswitch == 1) {
        i= 0;
        while(i &lt; 12) {
            event_user(0);
            cb.x= 10 + i * 60;
            with(cb) width= string_width(text);
            cb.y= -300 + cb.width;
            cb.image_angle= -90;
            cb.hspeed= -2;
            cb.action= 3;
            cb.vspeed= 6;
            i++;
        }
        i= 0;
        while(i &lt; 12) {
            event_user(0);
            with(cb) width= string_width(text);
            cb.image_angle= -90;
            cb.x= 40 + i * 60;
            cb.y= -300 - cb.width;
            cb.hspeed= 2;
            cb.action= 3;
            cb.vspeed= 6;
            i++;
        }
    }
    memory= 4;
    if(memswitch == 1) memswitch= 0;
    else  memswitch= 1;
    alarm[5]= 78;
}
if(memory == 6) {
    if(rounded == 0) {
        cb= instance_create(100, choose(40), 1700/* obj_creditboss */);
        cb.type= choose(1);
    }
    if(rounded == 1) {
        cb= instance_create(100, choose(260), 1700/* obj_creditboss */);
        cb.type= choose(1);
    }
    if(rounded == 2) {
        cb= instance_create(100, choose(40), 1700/* obj_creditboss */);
        cb.type= choose(0);
    }
    if(rounded == 3) {
        cb= instance_create(100, choose(260), 1700/* obj_creditboss */);
        cb.type= choose(0);
    }
    alarm[5]= 25;
    rounded++;
    if(rounded == 4) rounded= 0;
}
if(memory == 7) {
    cb= instance_create(-300, 360, 1700/* obj_creditboss */);
    cb.hspeed= 4;
    cb.type= 3;
    cb= instance_create(950, 120, 1700/* obj_creditboss */);
    cb.hspeed= -4;
    cb.type= 3;
    alarm[5]= 75;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>a_con++;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(credno &lt; credamt - 1) {
    cb= instance_create(x, y, 1701/* obj_creditbullet */);
    cb.text= creditname[credno];
    credno++;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(a_con == 4) {
    with(asriel) instance_destroy();
    a2= scr_marker(286, 140, 2296);
    a2.depth= 100000;
    a2.image_xscale= 2;
    a2.image_yscale= 2;
    a2.image_index= 0;
    a_con= 5;
    alarm[4]= 60;
}
if(a_con == 6) {
    global.typer= 85;
    global.msc= 0;
    global.msg[0]= "\\XI mean^1, we haven\'t&amp;even done the\\R &amp;Special Thanks\\X yet.../";
    global.msg[1]= "Ready^1?&amp;Let\'s end all of&amp;this for good!/%%";
    scr_blcon_x(a2.x + 80, a2.y);
    a_con= 7;
}
if(a_con == 7 &amp;&amp; instance_exists(782/* OBJ_WRITER */) &amp;&amp; OBJ_WRITER.stringno == 1)
    a2.image_index= 1;
if(a_con == 7 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    a_con= 8;
    alarm[4]= 50;
    ch= instance_create(300, 300, 1699/* obj_creditsheart */);
    snd_play(21/* snd_impact */);
    specialfade= 15;
    drawbar= 1;
}
if(a_con == 8) a2.image_alpha-= 0.06;
if(a_con == 9) {
    alarm[5]= 10;
    active= 1;
    a_con= 10;
}
if(a_con == 2) {
    a_con= 3;
    global.typer= 86;
    global.msc= 0;
    global.msg[0]= "Ha ha ha ha.../";
    global.msg[1]= "\\M1Did you REALLY&amp;think it was&amp;OVER!?!?/%%";
    scr_blcon_x(asriel.x + 80, asriel.y - 20);
}
if(a_con == 3 &amp;&amp; !instance_exists(782/* OBJ_WRITER */)) {
    caster_stop(horror);
    a_con= 4;
    instance_create(0, 0, 118/* obj_flasher */);
    snd_play(30/* snd_break2 */);
}
if(active == 1) mytimer++;
if(mytimer == 10) {
    lastsong= caster_load("music/end/express_myogg");
    caster_play(lastsong, 1, 1);
    memory= 0;
    alarm[5]= 1;
}
if(credno &gt;= 60 &amp;&amp; memory == 0) {
    alarm[5]= 90;
    memory= 2;
}
if(memory == 2 &amp;&amp; credno &gt;= 252) {
    alarm[5]= -1;
    cb= instance_create(320, 240, 1700/* obj_creditboss */);
    cb.alarm[0]= 60;
    cb.type= 2;
    memory= 3;
}
if(memory == 3 &amp;&amp; !instance_exists(1700/* obj_creditboss */)) {
    alarm[5]= 60;
    memory= 4;
}
if(memory == 4 &amp;&amp; credno &gt;= 596) {
    memory= 7;
    alarm[5]= 100;
}
if(memory == 7 &amp;&amp; credno &gt;= 716) {
    memory= 6;
    alarm[5]= 160;
}
if(memory == 6 &amp;&amp; credno &gt;= 881) {
    memory= -2;
    st_y= 500;
    st_t= 0;
    st_f= 1;
    alarm[5]= -1;
}
if(drawbar == 1) {
    draw_set_font(2);
    draw_set_color(65280);
    draw_set_halign(1);
    draw_set_alpha(specialfade);
    draw_text_transformed(320, 20, "SPECIAL THANKS", 2, 2, 0);
    draw_set_halign(0);
    specialfade-= 0.05;
    draw_set_alpha(1);
    draw_sprite(15/* spr_hpname */, 0, 260, 450);
    draw_sprite_ext(837/* spr_infinitysign */, 0, 296, 452, 2, 2, 0, 65535, 1);
}
if(memory == -2 &amp;&amp; !instance_exists(1701/* obj_creditbullet */)) {
    drawbar= 0;
    st_t++;
    if(st_t &lt; 150 &amp;&amp; st_y &gt; 50) {
        st_f+= 0.25;
        st_y-= st_f;
        st_f2= 1;
    }
    if(st_t &gt; 240 &amp;&amp; st_y &lt; 500) {
        vol= 0.8;
        l_alpha= 0;
        st_y+= st_f2;
        st_f2+= 0.25;
        st_f3= 0;
        st_y2= 500;
    }
    draw_set_halign(1);
    draw_set_font(2);
    draw_set_color(65535);
    if(hitno &gt; 0) {
        draw_text_transformed(320, st_y, "TOUCHED CREDITS", 2, 2, 0);
        i= 0;
        while(i &lt; hitno) {
            draw_text_transformed(320, st_y + 40 + i * 20, hitname[i], 1, 1, 0);
            i++;
        }
    }
    if(hitno &lt;= 0) {
        ini_open("undertale.ini");
        ini_write_real("reset", "s_key", 1);
        ini_close();
        draw_text_transformed(320, st_y, "Incredible work.#Somewhere, felt a#door opening...!", 4, 4, 0);
    }
    if(st_t &gt;= 320) {
        draw_set_color(16777215);
        st_y2-= 2;
        draw_text_transformed(320, st_y2, "Thanks to friends and#family for supporting us.#And UNDERTALE TEAM thanks#you, the player, from#the bottom of our hearts.#Without you, all of this#would be impossible.# #Good night.", 2, 2, 0);
        if(st_y2 &lt;= -400) {
            if(st_y2 &gt;= -410) l_alpha= 0;
            depth= -9000;
            draw_set_color(0);
            draw_set_alpha(l_alpha);
            l_alpha+= 0.00833333333333333;
            draw_rectangle(-10, -10, 999, 999, 0);
            if(st_y2 &lt;= -830) {
                caster_free(lastsong);
                if(global.flag[512] == 0) room_goto(285);
                else  room_goto(286);
            }
        }
    }
    draw_set_halign(0);
}
if(ting == 1) {
    snd_stop(118);
    snd_play(118/* snd_block2 */);
    ting= 0;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
